"use strict";var j=Object.defineProperty;var X=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var tt=Object.prototype.hasOwnProperty;var et=(t,e)=>{for(var r in e)j(t,r,{get:e[r],enumerable:!0})},rt=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Z(e))!tt.call(t,n)&&n!==r&&j(t,n,{get:()=>e[n],enumerable:!(o=X(e,n))||o.enumerable});return t};var nt=t=>rt(j({},"__esModule",{value:!0}),t);var at={};et(at,{AMETE_MIHRET_DELTA:()=>k,ETH_EPOCH:()=>l,addDays:()=>T,addMonths:()=>Y,addYears:()=>E,ethiopicDaysInMonth:()=>f,ethiopicToJdn:()=>m,gregorianDaysInMonth:()=>A,gregorianToJdn:()=>h,isEthiopicLeapYear:()=>H,isGregorianLeapYear:()=>b,jdnToEthiopic:()=>G,jdnToGregorian:()=>D,lastCentury:()=>B,lastMonth:()=>S,lastWeek:()=>N,lastYear:()=>z,nextCentury:()=>K,nextDay:()=>U,nextMonth:()=>$,nextWeek:()=>O,nextYear:()=>q,previousDay:()=>R,toEthiopic:()=>C,toGregorian:()=>_,today:()=>F,weekdayFromJdn:()=>P,yearProgress:()=>Q});module.exports=nt(at);function h(t,e,r){let o=Math.trunc((14-e)/12),n=t+4800-o,a=e+12*o-3;return r+Math.trunc((153*a+2)/5)+365*n+Math.trunc(n/4)-Math.trunc(n/100)+Math.trunc(n/400)-32045}function D(t){let e=t+32044,r=Math.trunc((4*e+3)/146097),o=e-Math.trunc(146097*r/4),n=Math.trunc((4*o+3)/1461),a=o-Math.trunc(1461*n/4),i=Math.trunc((5*a+2)/153),c=a-Math.trunc((153*i+2)/5)+1,p=i+3-12*Math.trunc(i/10);return{year:100*r+n-4800+Math.trunc(i/10),month:p,day:c}}function P(t){let e=(t+1)%7;return e<0?e+7:e}var l=1723856,k=5500,x=(t,e)=>Math.trunc(t/e),J=(t,e)=>t-e*Math.trunc(t/e);function v(t,e="AM"){return e==="AA"?t-k:t}function H(t,e="AM"){return v(t,e)%4===3}function f(t,e,r="AM"){if(e>=1&&e<=12)return 30;if(e===13)return H(t,r)?6:5;throw new RangeError(`Invalid Ethiopic month: ${e}`)}function m(t,e,r,o="AM"){let n=v(t,o);return l+365*n+x(n,4)+30*e+r-31}function G(t){let e=J(t-l,1461),r=J(e,365)+365*x(e,1460),o=4*x(t-l,1461)+x(e,365)-x(e,1460),n=x(r,30)+1,a=J(r,30)+1;return{year:o,month:n,day:a}}function _(t){let e=m(t.year,t.month,t.day,t.era??"AM");return D(e)}function C(t){let e=h(t.year,t.month,t.day);return{...G(e),era:"AM"}}var b=t=>t%4===0&&t%100!==0||t%400===0;function A(t,e){if(e===2)return b(t)?29:28;if([4,6,9,11].includes(e))return 30;if(e>=1&&e<=12)return 31;throw new RangeError(`Invalid Gregorian month: ${e}`)}var ot=(t,e,r)=>Math.max(e,Math.min(r,t));function F(t="gregorian"){let e=new Date,r={year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate()};return t==="gregorian"?r:C(r)}function T(t,e,r){let n=(r==="gregorian"?h(t.year,t.month,t.day):m(t.year,t.month,t.day,t.era??"AM"))+e;return r==="gregorian"?D(n):{...G(n),era:"AM"}}function Y(t,e,r){if(r==="gregorian"){let{year:y,month:M,day:I}=t,w=M-1+e,L=y+Math.trunc(w/12),W=(w%12+12)%12+1,V=ot(I,1,A(L,W));return{year:L,month:W,day:V}}let{year:o,month:n,day:a,era:i}=t,c=i??"AM",p=(o-1)*13+(n-1)+e,s=Math.floor(p/13)+1,u=(p%13+13)%13+1,d=f(s,u,c),g=a>d?d:a;return{year:s,month:u,day:g,era:c}}function E(t,e,r){if(r==="gregorian"){let{year:u,month:d,day:g}=t,y=u+e,M=d===2&&g===29&&!b(y)?28:g;return{year:y,month:d,day:M}}let{year:o,month:n,day:a,era:i}=t,c=o+e,p=f(c,n,i??"AM"),s=a>p?p:a;return{year:c,month:n,day:s,era:i??"AM"}}var R=(t,e)=>T(t,-1,e),U=(t,e)=>T(t,1,e),N=(t,e)=>T(t,-7,e),O=(t,e)=>T(t,7,e),S=(t,e)=>Y(t,-1,e),$=(t,e)=>Y(t,1,e),z=(t,e)=>E(t,-1,e),q=(t,e)=>E(t,1,e),B=(t,e)=>E(t,-100,e),K=(t,e)=>E(t,100,e);function Q(t,e){if(e==="gregorian"){let s=t,u=h(s.year,1,1),d=h(s.year+1,1,1),g=h(s.year,s.month,s.day),y=d-u,M=d-g,I=Math.max(0,Math.min(100,(g-u)/y*100));return{daysLeft:M,totalDaysInYear:y,percentCompleted:+I.toFixed(2)}}let r=t,o=m(r.year,1,1,r.era??"AM"),n=m(r.year+1,1,1,r.era??"AM"),a=m(r.year,r.month,r.day,r.era??"AM"),i=n-o,c=n-a,p=Math.max(0,Math.min(100,(a-o)/i*100));return{daysLeft:c,totalDaysInYear:i,percentCompleted:+p.toFixed(2)}}0&&(module.exports={AMETE_MIHRET_DELTA,ETH_EPOCH,addDays,addMonths,addYears,ethiopicDaysInMonth,ethiopicToJdn,gregorianDaysInMonth,gregorianToJdn,isEthiopicLeapYear,isGregorianLeapYear,jdnToEthiopic,jdnToGregorian,lastCentury,lastMonth,lastWeek,lastYear,nextCentury,nextDay,nextMonth,nextWeek,nextYear,previousDay,toEthiopic,toGregorian,today,weekdayFromJdn,yearProgress});
